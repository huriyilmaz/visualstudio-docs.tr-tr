---
title: 'CA2118: SuppressUnmanagedCodeSecurityAttribute kullanımını gözden geçirin'
description: Ortak veya korumalı bir tür veya üye System.Security.SuppressUnmanagedCodeSecurityAttribute özniteliğine sahiptir.
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA2118
- ReviewSuppressUnmanagedCodeSecurityUsage
helpviewer_keywords:
- ReviewSuppressUnmanagedCodeSecurityUsage
- CA2118
ms.assetid: 4cb8d2fc-4e44-4dc3-9b74-7f5838827d41
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.technology: vs-ide-code-analysis
ms.workload:
- cplusplus
ms.openlocfilehash: 9e29e407296d3d0ac94909547a3652b7674cd6b9
ms.sourcegitcommit: 68897da7d74c31ae1ebf5d47c7b5ddc9b108265b
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/13/2021
ms.locfileid: "122130019"
---
# <a name="ca2118-review-suppressunmanagedcodesecurityattribute-usage"></a>CA2118: SuppressUnmanagedCodeSecurityAttribute kullanımını gözden geçirin

|Öğe|Değer|
|-|-|
|RuleId|CA2118|
|Kategori|Microsoft.Security|
|Yeni değişiklik|Yeni|

## <a name="cause"></a>Nedeni
Ortak veya korumalı bir tür veya üye özniteliğine <xref:System.Security.SuppressUnmanagedCodeSecurityAttribute?displayProperty=fullName> sahip.

> [!NOTE]
> Bu kural kullanım dışıdır. Daha fazla bilgi için [bkz. Kullanım dışı kurallar.](fxcop-unported-deprecated-rules.md)

## <a name="rule-description"></a>Kural açıklaması

<xref:System.Security.SuppressUnmanagedCodeSecurityAttribute> , COM birlikte çalışma veya platform çağırma kullanarak yönetimsiz kod yürüten üyeler için varsayılan güvenlik sistemi davranışını değiştirir. Genel olarak, sistem, veri [ve modelleme için](/dotnet/framework/data/index) bir unmanaged kod izni yapar. Bu talep, üyenin her çağrısı için çalışma zamanında gerçekleşir ve çağrı yığınında her çağıranı izin için denetler. Öznitelik mevcut olduğunda, sistem izin için bir [Bağlantı](/dotnet/framework/misc/link-demands) Talepleri yapar: çağıranın JIT derlemesi olduğunda hemen çağıranın izinleri denetlenir.

Bu öznitelik, öncelikle performansı artırmak için kullanılır; ancak, gelen performans artışı önemli güvenlik riskleri ile gelir. özniteliğini yerel yöntemleri çağıran ortak üyelere yer alıyorsanız, çağrı yığınındaki (hemen çağıran dışında) çağıranların, yönetimsiz kodu yürütmek için yönetimsiz kod iznine ihtiyacı yoktur. Genel üyenin eylemlerine ve giriş işlemesine bağlı olarak, güvenilmeyen çağıranların normalde güvenilir kodla kısıtlanmış işlevlere erişmesine izin ve olabilir.

.NET, çağıranların geçerli sürecin adres alanı üzerinde doğrudan erişim elde ingişlerini önlemek için güvenlik denetimlerine sahiptir. Bu öznitelik normal güvenliği atlayana kadar, işlem belleğine okumak veya yazmak için kullanılmaktadırsa kodunuz ciddi bir tehdit oluşturuyor. Riskin, kasıtlı olarak işlem belleğine erişim sağlayan yöntemlerle sınırlı olmadığını unutmayın; Ayrıca, kötü amaçlı kodun herhangi bir şekilde (örneğin, şaşırtıcı, yanlış biçimlendirilmiş veya geçersiz giriş sağlayarak) erişim elde edat olduğu herhangi bir senaryoda da mevcuttur.

Varsayılan güvenlik ilkesi, yerel bilgisayardan yürütül olmadığı veya aşağıdaki gruplardan birinin üyesi olmadığı sürece bir derlemeye yönetimsiz kod iznini verir:

- Bilgisayar Bölgesi Kod Grubum

- Microsoft Güçlü Ad Kod Grubu

- ECMA Güçlü Ad Kod Grubu

## <a name="how-to-fix-violations"></a>İhlalleri düzeltme

Bu özniteliğin kesinlikle gerekli olduğundan emin olmak için kodunuzu dikkatle gözden geçirme. Yönetilen kod güvenliği hakkında bilginiz yoksa veya bu özniteliği kullanmanın güvenlik etkilerini anlamadısanız, bunu kodunuzdan kaldırın. Öznitelik gerekli ise, çağıranların kodunuzu kötü amaçlı olarak kullanamaylarını sağlamak gerekir. Kodunuzun, yürütülemeyen kodu yürütme izni yoksa, bu özniteliğin hiçbir etkisi yoktur ve kaldırılmalıdır.

## <a name="when-to-suppress-warnings"></a>Uyarıların ne zaman gizlenmeleri

Bu kuraldan gelen bir uyarıyı güvenle gizlemeniz için kodunuzun çağıranlara, yıkıcı bir şekilde kullanılmaktadır yerel işlemlere veya kaynaklara erişim sağlamaması gerekir.

## <a name="example-1"></a>Örnek 1

Aşağıdaki örnek kuralı ihlal ediyor.

:::code language="csharp" source="../snippets/csharp/VS_Snippets_CodeAnalysis/FxCop.Security.TypesDoNotSuppress/cs/FxCop.Security.TypesDoNotSuppress.cs" id="Snippet1":::

## <a name="example-2"></a>Örnek 2

Aşağıdaki örnekte yöntemi, `DoWork` platform çağırma yöntemi için genel olarak erişilebilen bir kod yolu `FormatHardDisk` sağlar.

:::code language="csharp" source="../snippets/csharp/VS_Snippets_CodeAnalysis/FxCop.Security.PInvokeAndSuppress/cs/FxCop.Security.PInvokeAndSuppress.cs" id="Snippet1":::

## <a name="example-3"></a>Örnek 3

Aşağıdaki örnekte, genel yöntem bir `DoDangerousThing` ihlale neden olur. İhlali çözmek için özel hale getirildi ve erişim yöntemi tarafından gösterildiği gibi güvenlik talebiyle güvenliği sağlanacak genel `DoDangerousThing` bir yöntem aracılığıyla `DoWork` sağlanacak.

:::code language="csharp" source="../snippets/csharp/VS_Snippets_CodeAnalysis/FxCop.Security.TypeInvokeAndSuppress/cs/FxCop.Security.TypeInvokeAndSuppress.cs" id="Snippet1":::

## <a name="see-also"></a>Ayrıca bkz.

- <xref:System.Security.SuppressUnmanagedCodeSecurityAttribute?displayProperty=fullName>
- [Güvenli Kodlama Yönergeleri](/dotnet/standard/security/secure-coding-guidelines)
- [Veri ve Modelleme](/dotnet/framework/data/index)
- [Bağlantı Talepleri](/dotnet/framework/misc/link-demands)
