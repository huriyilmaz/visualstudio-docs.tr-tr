---
title: Algılanabilir olmayan dinamik parametreleri çözme (Web performans testi)
description: Web performans testi Kaydedicisi ve kayıttan yürütme altyapısının en yaygın dinamik parametre türlerini otomatik olarak nasıl işlediğini öğrenin.
ms.custom: SEO-VS-2020
ms.date: 10/19/2016
ms.topic: how-to
helpviewer_keywords:
- walkthroughs, load tests
- load tests, walkthroughs
- load tests, correlating dynamic parameters
ms.assetid: 92dff25c-36ee-4135-acdd-315c4962fa11
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.technology: vs-ide-test
ms.openlocfilehash: 00767b7dc125dc66e48627fbcc1ddefb20ecf511b2d7ba8d7b91e4230a589bbd
ms.sourcegitcommit: c72b2f603e1eb3a4157f00926df2e263831ea472
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/12/2021
ms.locfileid: "121227953"
---
# <a name="fix-non-detectable-dynamic-parameters-in-a-web-performance-test"></a>Web performans testindeki dinamik parametreleri algılayamama sorununu çözme

Bazı Web siteleri, bazı web isteklerinden bazılarını işlemek için dinamik parametreler kullanır. Dinamik parametre, Kullanıcı uygulamayı her çalıştırdığında değeri yeniden üretilen parametredir. Dinamik parametreye bir örnek, oturum KIMLIĞIDIR. Oturum KIMLIĞI genellikle her 5 ile 30 dakika arasında değişir. Web performans testi Kaydedicisi ve kayıttan yürütme altyapısı, en yaygın dinamik parametre türlerini otomatik olarak işler:

- Bir tanımlama bilgisi değerinde ayarlanan dinamik parametre değerleri. Web performans testi altyapısı, kayıttan yürütme sırasında bunları otomatik olarak işler.

- ASP.NET görünüm durumu gibi HTML sayfalarındaki gizli alanlarda ayarlanan dinamik parametre değerleri. Bunlar, teste gizli alan ayıklama kuralları ekleyen kaydedici tarafından otomatik olarak işlenir.

- Sorgu dizesi veya form gönderi parametreleri olarak ayarlanan dinamik parametre değerleri. Bunlar, bir Web performans testini kaydettikten sonra dinamik parametre algılama aracılığıyla işlenir.

Bazı dinamik parametre türleri algılanmaz. Saptanmamış dinamik bir parametre, test her çalıştığında dinamik değer farklı olacağı için, Web performans testinizin çalıştırıldığında başarısız olmasına neden olur. Bu parametreleri doğru bir şekilde işlemek için Web performans testlerinizde dinamik parametrelere el ile ayıklama kuralları ekleyebilirsiniz.

[!INCLUDE [web-load-test-deprecated](includes/web-load-test-deprecated.md)]

## <a name="create-and-run-a-web-app-with-dynamic-parameters"></a>Dinamik parametrelerle bir Web uygulaması oluşturma ve çalıştırma

hem algılanabilir hem de algılanamaz dinamik bir parametreyi göstermek için, birkaç denetim ve bazı özel kod içeren üç web formu bulunan basit bir ASP.NET web uygulaması oluşturacağız. Daha sonra dinamik parametrelerin nasıl yalıtılacağı ve bunların nasıl işleneceği öğreneceğiz.

1. **dynamicparametersample** adlı yeni bir ASP.NET projesi oluşturun.

     ![boş bir ASP.NET web uygulaması projesi oluşturma](../test/media/web_test_dynamicparameter_aspproject.png)

2. *QueryString. aspx* adlı bir Web formu ekleyin.

3. Tasarım görünümü ' nde, bir HiddenField alanını sayfaya sürükleyin ve içinde (ID) özelliğinin değerini HiddenFieldSessionID olarak değiştirin.

     ![Bir HiddenField ekleyin](../test/media/web_test_dynamicparameter_hiddenfield.png)

4. Querystring sayfası için kaynak görünümüne geçin ve sahte oturum kimliği dinamik parametrelerini oluşturmak için kullanılan aşağıdaki vurgulanmış ASP.NET ve JavaScript kodunu ekleyin:

    ```html
    <head runat="server">
    <title>JavaScript dynamic property correlation sample</title><script type="text/javascript" language="javascript">    <!--        function jScriptQueryString()         {            var Hidden = document.getElementById("HiddenFieldSessionID");            var sessionId = Hidden.value;            window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;         }    //--></script>
    </head>
    <body>
        <form id="form1" runat="server">
        <div>
             <a name="QuerystringHyperlink" href="ASPQuery.aspx?CustomQueryString=ASPQueryString___<%= Session.SessionID %>">Dynamic querystring generated by ASP.net</a>         <br/>         <br/>         <a href="javascript:jScriptQueryString()">Dynamic querystring generated by javascript </a>
        </div>
        <asp:HiddenField ID="HiddenFieldSessionID" runat="server" />
        </form>
    </body>
    </html>
    ```

5. *QueryString. aspx. cs* dosyasını açın ve Page_Load yöntemine aşağıdaki vurgulanmış kodu ekleyin:

    ```csharp
    public partial class Querystring : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            Session.Add("Key", "Value");HiddenFieldSessionID.Value = Session.SessionID;
        }
    }
    ```

6. *ASPQuery. aspx* adlı ikinci bir Web formu ekleyin.

7. Tasarım görünümü ' nde, sayfaya bir **etiket** sürükleyin ve **(ID)** özelliğinin değerini **IndexLabel** olarak değiştirin.

     ![Web formuna etiket ekleme](../test/media/web_test_dynamicparameter_label.png)

8. Sayfaya bir **köprü** sürükleyin ve **metin** özelliği için değerini öğesini **geri** olarak değiştirin.

     ![Web formuna köprü ekleme](../test/media/web_test_dynamicparameter_hyperlink.png)

9. **NavigationURL** özelliği için **(...)** seçeneğini belirleyin.

     ![NavigateURL özelliğini Düzenle](../test/media/web_test_dynamicparameter_hyperlink_navurl.png)

     *QueryString. aspx* öğesini seçin.

     ![QueryString. aspx olacak URL 'yi seçin](../test/media/web_test_dynamicparameter_hyperlink_navurl2.png)

10. *ASPQuery. aspx. cs* dosyasını açın ve Page_Load yöntemine aşağıdaki vurgulanmış kodu ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

11. *JScriptQuery. aspx* adlı üçüncü bir Web formu ekleyin.

     İkinci sayfada olduğu gibi, bir **etiketi** formun üzerine sürükleyin, **(ID)** özelliğini **IndexLabel** olarak ayarlayıp form üzerine bir **köprü** sürükleyin, **Text** özelliğini **Back** ve **NavigationURL** özelliği de **QueryString. aspx** olarak ayarlar.

     ![Üçüncü Web formunu ekleme ve yapılandırma](../test/media/web_test_dynamicparameter_addwebform3.png)

12. *JScriptQuery. aspx. cs* dosyasını açın ve Page_Load yöntemine aşağıdaki vurgulanmış kodu ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

13. Projeyi kaydedin.

14. **Çözüm Gezgini**' de, *QueryString. aspx* ' i başlangıç sayfası olarak ayarlayın.

     ![QueryString. aspx üzerinde başlangıç sayfasını ayarla](../test/media/web_test_dynamicparameter_setstartpage.png)

15.  + Tarayıcıda Web uygulamasını çalıştırmak için CTRL **F5** tuşuna basın. URL'yi kopyalayın. Testinizi kaydettiğinizde buna ihtiyaç duyarsınız.

16. Her iki bağlantıyı da deneyin. Her biri "başarılı" iletisini görüntülemelidir. Dinamik QueryString parametresi bulundu. "

     ![Web uygulamasını çalıştırma](../test/media/web_test_dynamicparameter_runapp.png)

     ![Başarı&#33;](../test/media/web_test_dynamicparameter_runapp2.png)

## <a name="create-a-web-performance-test"></a>Web performans testi oluşturma

1. Çözümünüze bir Web performansı ve yük testi projesi ekleyin.

     ![Web perflatin ve yük testi projesi ekleme](../test/media/web_test_dynamicparameter_addtestproject.png)

2. WebTest1. webtest öğesini DynamicParameterSampleApp. webtest olarak yeniden adlandırın.

     ![Web performans testini yeniden adlandırma](../test/media/web_test_dynamicparameter_renametest.png)

3. Testi kaydedin.

     ![Web performans testini kaydetme](../test/media/web_test_dynamicparameter_recordtest.png)

4. Test ettiğiniz web sitesinden URL 'YI kopyalayıp tarayıcıya yapıştırın.

     ![Sınanan Web sitesinden URL 'YI yapıştırın](../test/media/web_test_dynamicparameter_recordtest2.png)

5. Web uygulamasına göz atabilirsiniz. ASP.NET bağlantısını, geri bağlantısını ve ardından geri bağlantısını, ardından da javascript bağlantısını seçin.

     Web Testi Kaydedicisi, Web uygulamasında gezindiğinizde HTTP isteği ve yanıt URL 'Lerini görüntüler.

6. Test kaydedicisinde **Durdur** düğmesini seçin.

     Dinamik parametreleri algılamada iletişim kutusu, alınan HTTP yanıtlarındaki parametre algılamanın durumunu gösteren bir ilerleme çubuğu görüntüler.

7. ASPQuery sayfasındaki CustomQueryString için dinamik parametre otomatik olarak algılanır. Ancak, JScriptQuery sayfasındaki CustomQueryString için dinamik parametre algılanmaz.

     *QueryString. aspx* öğesine bir ayıklama kuralı eklemek için **Tamam** ' ı seçerek ASPQuery sayfasına bağlama yapın.

     ![Algılanan dinamik parametreyi yükselt](../test/media/web_test_dynamicparameter_promotedialog.png)

     Ayıklama kuralı, ilk *QueryString. aspx* isteğine eklenir.

     ![Ayıklama kuralı isteğe eklendi](../test/media/web_test_dynamicparameter_autoextractionrule.png)

     *ASPQuery. aspx* için istek ağacındaki ikinci isteği genişletin ve CustomQueryString 'ın değeri ayıklama kuralına bağladığına dikkat edin.

     ![CustomQueryString, ayıklama kuralına bağladınız](../test/media/web_test_dynamicparameter_autoextractionrule2.png)

8. Testi kaydedin.

## <a name="run-the-test-to-isolate-the-non-detected-dynamic-parameter"></a>Algılanan dinamik parametreyi yalıtmak için testi çalıştırın

1. Testi çalıştırın.

     ![Web performans testini çalıştırma](../test/media/web_test_dynamicparameter_runtest.png)

2. *JScriptQuery. aspx* sayfasının dördüncü isteği başarısız olur. Web testine gidin.

     ![Test sonuçlarında dinamik parametre hatası](../test/media/web_test_dynamicparameter_runresults.png)

     *JScriptQuery. aspx* istek düğümü düzenleyicide vurgulanır. Düğümünü genişletin ve CustomQueryString 'in "1v0yıhyiyr0ka2w4j4pwf5zl" kısmının dinamik olduğunu fark ettiğini unutmayın.

     ![CustomQueryString içindeki dinamik parametre şüpheli](../test/media/web_test_dynamicparameter_runresults2.png)

3. Web performans Test Sonuçları görüntüleyicisine dönün ve başarısız olan *JScriptQuery. aspx* sayfasını seçin. Ardından, istek sekmesini seçin, ham verileri göster onay kutusunun işaretli olduğunu doğrulayın, aşağı kaydırın ve CustomQueryString üzerinde hızlı bul ' u seçin.

     ![Web performans metin sonuçları görüntüleyicisinde Istek sekmesinin ekran görüntüsü. Bir QueryString parametresi seçilir ve hızlı bul bir bağlam menüsünde vurgulanır.](../test/media/web_test_dynamicparameter_runresultsquckfind.png)

4. Test düzenleyicisine bakmadan, *JScriptQuery. aspx* Isteğinin CustomQueryString değerine bir değer atandığını `jScriptQueryString___1v0yhyiyr0raa2w4j4pwf5zl` ve şüphelenilen dinamik bölümün "1v0yhyiyr0ka2w4j4pwf5zl" olduğunu biliyoruz. Aranan açılan listesinde, arama dizesinin şüpheli kısmını kaldırın. Dize "CustomQueryString = jScriptQueryString___" olmalıdır.

     Dinamik parametrelere, hataya sahip istekten önce gelen isteklerden birindeki değerler atanır. Bu nedenle, ara onay kutusunu seçin ve istek panelinde *QueryString. aspx* için önceki isteği görene kadar Sonrakini Bul ' u seçin. Sonraki üç kez bul seçeneğini belirledikten sonra bu durum gerçekleşmelidir.

     ![Web performans metin sonuçları görüntüleyicisinde ekran görüntüsü. Bir sorgu dizesi seçilidir ve bir bul iletişim kutusu, SearchUp ve Sonrakini Bul seçiliyken gösterilir.](../test/media/web_test_dynamicparameter_runresultsquckfind4.png)

     Yanıt sekmesinde ve aşağıda gösterildiği gibi daha önce uygulanan JavaScript 'de gösterildiği gibi, CustomQueryString sorgu dizesi parametresi bir "jScriptQueryString___" değeri atanır ve aynı zamanda var SessionID 'den döndürülen değerle birleştirilir.

    ```javascript
    function jScriptQueryString()          {             var Hidden = document.getElementById("HiddenFieldSessionID");             var sessionId = Hidden.value;             window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;          }

    ```

     Artık hatanın nerede oluştuğunu öğrendiğimiz ve SessionID için değeri ayıklamız gerektiğini biliyoruz. Ancak, ayıklama değeri yalnızca metindir, bu nedenle SessionID 'nin gerçek değerinin görüntülendiği bir dizeyi bulmaya çalışırken hatayı daha da yalıtmanız gerekir. Koda bakarak, var SessionID 'nin HiddenFieldSessionID tarafından döndürülen değere eşit olduğunu görebilirsiniz.

5. HiddenFieldSessionID'de hızlı bul seçeneğini kullanın, arama onay kutusunu temizleyin ve geçerli isteği seçin.

     ![HiddenFieldSession'da hızlı bulma kullanma](../test/media/web_test_dynamicparameter_runresultsquckfindhiddensession.png)

     Döndürülen değerin özgün web performansı test kaydıyla aynı dize olmadığını fark edin. Bu test çalıştırması için döndürülen değer "5w4v3yrse4wa4axrafykqksq" ve özgün kayıtta "1v0yhyiyr0raa2w4j4pwf5zl" değeridir. Değer özgün kaydın değeriyle eşleşmez, çünkü hata oluşturulur.

6. Özgün kayıtta dinamik parametreyi düzeltmemiz gerek olduğundan araç çubuğunda kayıtlı sonucu seçin.

     ![Kaydedilen sonucu seçme](../test/media/web_test_dynamicparameter_recordedresult.png)

7. Kaydedilen sonuçlarda, test çalıştırması sonuçlarında yalıtılmış *querystringrequest.aspx* isteğiyle aynı olan üçüncü isteği seçin.

     ![Kaydedilen sonuçlarda aynı isteği seçin](../test/media/web_test_dynamicparameter_recordedresultsselectnode.png)

     Yanıt sekmesini seçin, sayfayı aşağı kaydırın ve daha önce yalıtılmış olan özgün dinamik parametre değeri olan "1v0yhyiyr0raa2w4j4pwf5zl" değerini seçin ve bir ayıklama kuralı ekleyin.

     ![Dinamik parametre için ayıklama kuralı ekleme](../test/media/web_test_dynamicparameter_recordedresultaddextractionrule.png)

     Yeni ayıklama kuralı *Querystring.aspx* isteğine eklenir ve 'Param0' değerine atanır.

     İletişim kutusu, parametresini bağlamak için ayıklanan metnin eşleşmeleri olduğunu bize bildirecekse Evet'i **seçin.**

     ![Ayıklama kuralı oluşturuldu](../test/media/web_test_dynamicparameter_addextractiondialog.png)

8. Sonrakini **Bul'a seçin.** İlk eşleşme, JScriptQuery sayfası için CustomQueryString parametresi olan değiştirmemiz gereken eşleşmedir.

     ![parametresinin metnini bulma ve değiştirme](../test/media/web_test_dynamicparameter_addextractionfindreplace.png)

9. **Değiştir'i seçin.**

     ![Metni parametresiyle değiştirin](../test/media/web_test_dynamicparameter_addextractionfindreplace2.png)

     *JScriptQuery.aspx* isteğinin altındaki QueryString parametresi, yeni bağlam parametresi kullanılarak güncelleştirilir: CustomQueryString=jScriptQueryString___{{Param0}}.

     ![Querystring'e uygulanan parametre](../test/media/web_test_dynamicparameter_addextractionfindreplace3.png)

10. Bul ve **Değiştir iletişim kutusunu** kapatın. İstek ağacında, algılanan dinamik parametre ile ilişkili algılanmadı dinamik parametre arasındaki benzer yapıya dikkatin.

     ![Algılanan ve ilişkili dinamik parametreler](../test/media/web_test_dynamicparameter_conclusion.png)

11. Testi çalıştırın. Artık hatasız çalışıyor.

## <a name="qa"></a>Soru-Cevap

### <a name="q-can-i-re-run-dynamic-parameter-detection-if-my-web-app-gets-modified"></a>S: Web uygulamam değiştirilirse dinamik parametre algılamayı yeniden çalıştırabilirsiniz.

**A:** Evet, aşağıdaki yordamı kullanın:

1. Araç çubuğunda Dinamik Parametreleri **Web Testi Parametrelerine Yükselt düğmesini** seçin.

     Algılama işlemi tamamlandıktan sonra, herhangi bir dinamik parametre algılanırsa, Dinamik Parametreleri **web testi parametrelerine yükselt** iletişim kutusu görüntülenir.

     Dinamik parametreler, Dinamik Parametreler sütunu altında listelenir. Dinamik parametrenin ayıklanıp bağlanacak istekleri Yanıttan Parametre Ayıkla ve İsteke Bağla sütunlarının altında listelenir.

     Dinamik Parametreleri **Web testi** parametrelerine yükselt iletişim kutusunda bir dinamik parametre seçerseniz, istek ağacında iki Web Performans Testi Düzenleyicisi vurgulanır. İlk istek, ayıklama kuralının ekli olduğu istektir. İkinci istek, ayıklanan değerin bağlanacak olduğu yerdir.

2. Otomatik olarak ilişki oluşturmak istediğiniz dinamik parametrelerin yanındaki onay kutusunu seçin veya temizleyin. Varsayılan olarak, tüm dinamik parametreler denetlenir.

### <a name="q-do-i-need-to-configure-visual-studio-to-detect-dynamic-parameters"></a>S: Dinamik parametreleri algılamak Visual Studio yapılandırmam gerekiyor mu?

**A:** Varsayılan Visual Studio web performans testini kaydeden dinamik parametreleri algılamaktır. Ancak, dinamik Visual Studio algılamak için yapılandırılmamış farklı seçenekleriniz varsa veya test edilen web uygulaması ek dinamik parametrelerle değiştirilir; dinamik parametre algılamayı yine de Web Performans Testi Düzenleyicisi.
