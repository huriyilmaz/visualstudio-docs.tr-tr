---
title: Algılanabilir olmayan dinamik parametreleri düzeltme (web perf testi)
description: Web performans testi kaydedicisi ve kayıttan yürütme altyapısının en yaygın dinamik parametre türlerini otomatik olarak nasıl işley olduğunu öğrenin.
ms.custom: SEO-VS-2020
ms.date: 10/19/2016
ms.topic: how-to
helpviewer_keywords:
- walkthroughs, load tests
- load tests, walkthroughs
- load tests, correlating dynamic parameters
ms.assetid: 92dff25c-36ee-4135-acdd-315c4962fa11
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.technology: vs-ide-test
ms.openlocfilehash: 00e6b1883f34f0beb9a6ae82e4513a63852d81e5
ms.sourcegitcommit: 68897da7d74c31ae1ebf5d47c7b5ddc9b108265b
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/13/2021
ms.locfileid: "122092845"
---
# <a name="fix-non-detectable-dynamic-parameters-in-a-web-performance-test"></a>Web performans testindeki dinamik parametreleri algılayamama sorununu çözme

Bazı web siteleri, web isteklerinin bir bölümü için dinamik parametreler kullanır. Dinamik parametre, bir kullanıcı uygulamayı her çalıştırsa değeri yeniden üreten bir parametredir. Dinamik parametre örneği oturum kimliğidir. Oturum kimliği genellikle her 5 ile 30 dakikada bir değişir. Web performans testi kaydedicisi ve kayıttan yürütme altyapısı en yaygın dinamik parametre türlerini otomatik olarak ele almaktadır:

- Bir tanımlama bilgisi değerinde ayarlanmış dinamik parametre değerleri. Web performans testi altyapısı bunları kayıttan yürütme sırasında otomatik olarak ele almaktadır.

- HTML sayfalarındaki gizli alanlarda ayarlanmış dinamik parametre değerleri, örneğin, ASP.NET durumu. Bunlar kaydedici tarafından otomatik olarak işlenir ve teste gizli alan ayıklama kuralları eklenir.

- Sorgu dizesi veya form sonrası parametreleri olarak ayarlanmış dinamik parametre değerleri. Bunlar, bir web performans testi kaydettikten sonra dinamik parametre algılama aracılığıyla ele alınanlar.

Bazı dinamik parametre türleri algılanmaz. Algılanmamış bir dinamik parametre, web performans testini çalıştırarak başarısız olur çünkü test her çalıştır edildiğinde dinamik değer farklı olacaktır. Bu parametreleri doğru şekilde işlemek için web performans testlerinde dinamik parametrelere el ile ayıklama kuralları ekleyebilirsiniz.

[!INCLUDE [web-load-test-deprecated](includes/web-load-test-deprecated.md)]

## <a name="create-and-run-a-web-app-with-dynamic-parameters"></a>Dinamik parametrelerle web uygulaması oluşturma ve çalıştırma

Hem algılanabilir hem de algılanabilir olmayan bir dinamik parametreyi göstermek için, birkaç denetime ve bazı özel kodlara sahip üç web formuna sahip basit bir ASP.NET web uygulaması oluşturuz. Ardından dinamik parametreleri yalıtma ve bunları işlemeyi öğreneceğiz.

1. **DynamicParameterSample** ASP.NET yeni bir proje oluşturun.

     ![Boş bir web ASP.NET projesi oluşturma](../test/media/web_test_dynamicparameter_aspproject.png)

2. *Querystring.aspx adlı bir* web formu ekleyin.

3. Tasarım görünümünde, bir HiddenField'i sayfaya sürükleyin ve sonra içinde (ID) özelliğinin değerini HiddenFieldSessionID olarak değiştirir.

     ![HiddenField ekleme](../test/media/web_test_dynamicparameter_hiddenfield.png)

4. Querystring sayfasının kaynak görünümüne gidin ve sahte oturum kimliği dinamik parametrelerini oluşturmak için ASP.NET ve JavaScript kodunu ekleyin:

    ```html
    <head runat="server">
    <title>JavaScript dynamic property correlation sample</title><script type="text/javascript" language="javascript">    <!--        function jScriptQueryString()         {            var Hidden = document.getElementById("HiddenFieldSessionID");            var sessionId = Hidden.value;            window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;         }    //--></script>
    </head>
    <body>
        <form id="form1" runat="server">
        <div>
             <a name="QuerystringHyperlink" href="ASPQuery.aspx?CustomQueryString=ASPQueryString___<%= Session.SessionID %>">Dynamic querystring generated by ASP.net</a>         <br/>         <br/>         <a href="javascript:jScriptQueryString()">Dynamic querystring generated by javascript </a>
        </div>
        <asp:HiddenField ID="HiddenFieldSessionID" runat="server" />
        </form>
    </body>
    </html>
    ```

5. *Querystring.aspx.cs dosyasını* açın ve aşağıdaki vurgulanmış kodu Page_Load ekleyin:

    ```csharp
    public partial class Querystring : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            Session.Add("Key", "Value");HiddenFieldSessionID.Value = Session.SessionID;
        }
    }
    ```

6. *ASPQuery.aspx* adlı ikinci bir web formu ekleyin.

7. Tasarım görünümünde bir **Etiket'i** sayfaya sürükleyin ve **(ID)** özelliğinin değerini **IndexLabel olarak değiştirebilirsiniz.**

     ![Web formuna etiket ekleme](../test/media/web_test_dynamicparameter_label.png)

8. Bir **HyperLink'i** sayfaya sürükleyin ve **Text** özelliğinin valesini Back olarak **değiştirir.**

     ![Web formuna köprü ekleme](../test/media/web_test_dynamicparameter_hyperlink.png)

9. **NavigationURL** özelliği için **(...)** seçin.

     ![NavigateURL özelliğini düzenleme](../test/media/web_test_dynamicparameter_hyperlink_navurl.png)

     *Querystring.aspx öğesini seçin.*

     ![Querystring.aspx url'sini seçin](../test/media/web_test_dynamicparameter_hyperlink_navurl2.png)

10. *ASPQuery.aspx.cs dosyasını* açın ve aşağıdaki vurgulanmış kodu Page_Load ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

11. *JScriptQuery.aspx adlı üçüncü bir* web formu ekleyin.

     İkinci sayfada olduğu gibi, bir  Etiketi forma sürükleyin, **(ID)** özelliğini **IndexLabel** olarak ayarip bir **Köprü'leri** forma sürükleyin, Text özelliğini **Back** ve **NavigationURL** özelliğini **Querystring.aspx** olarak belirleyin. 

     ![Üçüncü web formunu ekleme ve yapılandırma](../test/media/web_test_dynamicparameter_addwebform3.png)

12. *JScriptQuery.aspx.cs dosyasını* açın ve aşağıdaki vurgulanmış kodu Page_Load ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

13. Projeyi kaydedin.

14. Bu **Çözüm Gezgini** *querystring.aspx'i* başlangıç sayfası olarak ayarlayın.

     ![Querystring.aspx'de başlangıç sayfasını ayarlama](../test/media/web_test_dynamicparameter_setstartpage.png)

15. Web **uygulamasını** + **tarayıcıda çalıştırmak** için Ctrl F5 tuşlarına basın. URL'yi kopyalayın. Test kaydınız için buna ihtiyacınız olacak.

16. Her iki bağlantıyı da deneyin. Her biri "Başarılı. Dinamik querystring parametresi bulundu."

     ![Web uygulamasını çalıştırma](../test/media/web_test_dynamicparameter_runapp.png)

     ![Başarılı&#33;](../test/media/web_test_dynamicparameter_runapp2.png)

## <a name="create-a-web-performance-test"></a>Web performans testi oluşturma

1. Çözümünüze bir web performansı ve yük testi projesi ekleyin.

     ![Web perfromance ve yük testi projesi ekleme](../test/media/web_test_dynamicparameter_addtestproject.png)

2. WebTest1.webtest'i DynamicParameterSampleApp.webtest olarak yeniden adlandır.

     ![Web performans testini yeniden adlandırma](../test/media/web_test_dynamicparameter_renametest.png)

3. Testi kaydetme.

     ![Web performans testini kaydetme](../test/media/web_test_dynamicparameter_recordtest.png)

4. Test etmekte olduğunu web sitesinin URL'sini kopyalayıp tarayıcıya yapıştırın.

     ![Test edilen web sitesinin URL'sini yapıştırın](../test/media/web_test_dynamicparameter_recordtest2.png)

5. Web uygulamasına göz atma. ASP.NET bağlantısını, Geri bağlantısını ve ardından javascript bağlantısını ve ardından geri bağlantısını seçin.

     Web testi kaydedicisi, web uygulamasında gezinken HTTP isteğini ve yanıt URL'lerini görüntüler.

6. Test **kaydedicide** Durdur düğmesini seçin.

     Dinamik parametreleri algılama iletişim kutusunda, alınan HTTP yanıtlarında parametre algılama durumunu gösteren bir ilerleme çubuğu görüntülenir.

7. ASPQuery sayfasında customQueryString için dinamik parametre otomatik olarak algılanır. Ancak JScriptQuery sayfasında CustomQueryString için dinamik parametre algılanmaz.

     *Querystring.aspx'e* ayıklama kuralı eklemek ve ASPQuery sayfasına bağlamak için Tamam'ı seçin. 

     ![Algılanan dinamik parametreyi yükseltin](../test/media/web_test_dynamicparameter_promotedialog.png)

     Ayıklama kuralı *Querystring.aspx* için ilk i isteğine eklenir.

     ![İstekte ayıklama kuralı eklendi](../test/media/web_test_dynamicparameter_autoextractionrule.png)

     *ASPQuery.aspx* için istek ağacında ikinci isteği genişletin ve CustomQueryString değerinin ayıklama kuralına bağlı olduğunu fark edin.

     ![Ayıklama kuralına bağlı CustomQueryString](../test/media/web_test_dynamicparameter_autoextractionrule2.png)

8. Testi kaydedin.

## <a name="run-the-test-to-isolate-the-non-detected-dynamic-parameter"></a>Algılanan dinamik parametreyi yalıtmak için testi çalıştırın

1. Testi çalıştırın.

     ![Web performans testini çalıştırma](../test/media/web_test_dynamicparameter_runtest.png)

2. *JScriptQuery.aspx sayfası için dördüncü istek* başarısız oluyor. Web testini ziyaret edin.

     ![Test sonuçlarında dinamik parametre hatası](../test/media/web_test_dynamicparameter_runresults.png)

     Düzenleyicide *JScriptQuery.aspx* istek düğümü vurgulanır. Düğümü genişletin ve CustomQueryString'in "1v0yhyiyr0raa2w4j4pwf5zl" kısmının dinamik olarak göründüğüne dikkatin.

     ![CustomQueryString'de şüpheli dinamik parametre](../test/media/web_test_dynamicparameter_runresults2.png)

3. Web Performansı Test Sonuçları Görüntüleyicisi'ne dönün ve başarısız *olan JScriptQuery.aspx* sayfasını seçin. Ardından istek sekmesini seçin, ham verileri göster onay kutusunun temiz olduğunu doğrulayın, aşağı kaydırın ve CustomQueryString'de hızlı bul'ı seçin.

     ![Web Performansı Metin Sonuçları Görüntüleyicisi'nde İstek sekmesinin ekran görüntüsü. Bir QueryString parametresi seçilidir ve bağlam menüsünde QuickFind vurgulanır.](../test/media/web_test_dynamicparameter_runresultsquckfind.png)

4. Test düzenleyicisine bakarak *JScriptQuery.aspx* isteğinin CustomQueryString değerine atandığı ve şüpheli dinamik kısmın `jScriptQueryString___1v0yhyiyr0raa2w4j4pwf5zl` "1v0yhyiyr0raa2w4j4pwf5zl" olduğunu biliyoruz. Açılan listede arama dizesinin şüpheli bölümünü kaldırın. Dize "CustomQueryString=jScriptQueryString___" olmalıdır.

     Dinamik parametrelere, hataya sahip istekten önce gelen isteklerden birinin değerleri atanır. Bu nedenle, arama onay kutusunu seçin ve istek panelinde *Querystring.aspx* için önceki isteğin vurgulanmış olduğunu görene kadar sonrakini bul seçeneğini belirleyin. Bu, sonraki üç kez bul'ı seçtikten sonra gerçekleşir.

     ![Web Performansı Metin Sonuçları Görüntüleyicisi'nin ekran görüntüsü. Bir sorgu dizesi seçilidir ve SearchUp ve Sonrakini Bul seçili olarak bir Bul iletişim kutusu gösterilir.](../test/media/web_test_dynamicparameter_runresultsquckfind4.png)

     Yanıt sekmesinde gösterildiği gibi ve daha önce uygulanan JavaScript'te CustomQueryString sorgu dizesi parametresine " jScriptQueryString___" değeri atanır ve var sessionId değerinden döndürülen değerle birleştirilebilir.

    ```javascript
    function jScriptQueryString()          {             var Hidden = document.getElementById("HiddenFieldSessionID");             var sessionId = Hidden.value;             window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;          }

    ```

     Artık hatanın nerede oluştuğunu ve sessionId değerini ayıklamamız gerekir. Ancak, ayıklama değeri yalnızca metindir, bu nedenle sessionId değerinin görüntülendiğinde bir dizeyi bulmaya çalışarak hatayı daha fazla yalıtmak gerekir. Koda bakarak var sessionId değerinin HiddenFieldSessionID tarafından döndürülen değere eşit olduğunu görüyorsunuz.

5. HiddenFieldSessionID üzerinde hızlı bul ' u kullanarak arama onay kutusunu temizleyip geçerli istek ' ı seçin.

     ![HiddenFieldSession üzerinde hızlı bul kullan](../test/media/web_test_dynamicparameter_runresultsquckfindhiddensession.png)

     Döndürülen değerin özgün Web performans testi kaydındaki dize olmadığından emin olun. Bu test çalıştırması için döndürülen değer "5w4v3yrse4wa4axrafykqksq" ve özgün kayıtta, değer "1v0yıhyiyr0ka2w4j4pwf5zl" olur. Değer, özgün kayıt ile eşleşmediğinden, hata oluşturulur.

6. Özgün kayıtta dinamik parametreyi düzeltireceğiz, araç çubuğunda Kaydedilen Sonuç ' i seçin.

     ![Kaydedilen sonucu seçin](../test/media/web_test_dynamicparameter_recordedresult.png)

7. Kayıtlı sonuçlarda, test çalıştırması sonuçlarında izole ettiğiniz *Querystringrequest. aspx* isteği olan üçüncü isteği seçin.

     ![Kayıtlı sonuçlarda aynı isteği seçin](../test/media/web_test_dynamicparameter_recordedresultsselectnode.png)

     Yanıt sekmesini seçin, aşağı kaydırın ve daha önce yalıtıldığınız ve bir ayıklama kuralı eklediğiniz "1v0onhyiyr0ka2w4j4pwf5zl" orijinal dinamik parametre değerini seçin.

     ![Dinamik parametre için bir ayıklama kuralı ekleyin](../test/media/web_test_dynamicparameter_recordedresultaddextractionrule.png)

     Yeni ayıklama kuralı *QueryString. aspx* isteğine eklenir ve ' Param0 ' değeri atanır.

     İletişim kutusu, parametreyi bağlamak için ayıklanan metin için eşleşme bulunduğunu bize bildirse, **Evet**' i seçin.

     ![Ayıklama kuralı oluşturuldu](../test/media/web_test_dynamicparameter_addextractiondialog.png)

8. **Sonrakini Bul**' ı seçin. İlk eşleşme, JScriptQuery sayfasında CustomQueryString parametresi olan, değiştirilmesi gereken bir parametredir.

     ![Parametrenin metnini bul ve Değiştir](../test/media/web_test_dynamicparameter_addextractionfindreplace.png)

9. **Değiştir**'i seçin.

     ![Metni parametresiyle değiştirin](../test/media/web_test_dynamicparameter_addextractionfindreplace2.png)

     *JScriptQuery. aspx* Isteği altındaki QueryString parametresi, yeni bağlam parametresi kullanılarak güncelleştirilir: CustomQueryString = jScriptQueryString___ {{Param0}}.

     ![QueryString öğesine uygulanan parametre](../test/media/web_test_dynamicparameter_addextractionfindreplace3.png)

10. **Bul ve Değiştir** iletişim kutusunu kapatın. Algılanan dinamik parametre ve bağıntılı tespit edilmeyen dinamik parametre arasındaki istek ağacındaki benzer yapıya dikkat edin.

     ![Algılanan ve bağıntılı dinamik parametreler](../test/media/web_test_dynamicparameter_conclusion.png)

11. Testi çalıştırın. Artık hata olmadan çalışır.

## <a name="qa"></a>Soru-Cevap

### <a name="q-can-i-re-run-dynamic-parameter-detection-if-my-web-app-gets-modified"></a>S: Web Uygulamam değiştirilirse dinamik parametre algılamayı yeniden çalıştırabilir miyim?

Y **:** Evet, aşağıdaki yordamı kullanın:

1. Araç çubuğunda, **dinamik parametreleri Web Test Parametrelerine Yükselt** düğmesini seçin.

     Algılama işlemi tamamlandıktan sonra, herhangi bir dinamik parametre algılanırsa, **dinamik parametreleri Web Test Parametrelerine Yükselt** iletişim kutusu görüntülenir.

     Dinamik parametreler, dinamik parametreler sütununun altında listelenir. Dinamik parametrenin ayıklanabileceği ve bağlı olduğu istekler, yanıttan Ayıkla parametresi altında listelenir ve Istek sütunlarına bağlayın.

     **Dinamik parametreleri Web Test Parametrelerine Yükselt** iletişim kutusunda dinamik bir parametre seçerseniz, Web Performans Testi Düzenleyicisi istek ağacında iki istek vurgulanacaktır. İlk istek, ayıklama kuralının ekleneceği istek olacaktır. İkinci istek, Ayıklanan değerin bağlanacağı yerdir.

2. Otomatik olarak ilişkilendirmek istediğiniz dinamik parametrelerin yanındaki onay kutusunu işaretleyin veya temizleyin. Varsayılan olarak, tüm dinamik parametreler denetlenir.

### <a name="q-do-i-need-to-configure-visual-studio-to-detect-dynamic-parameters"></a>s: dinamik parametreleri algılamak için Visual Studio yapılandırmam gerekir mi?

Y **:** varsayılan Visual Studio yapılandırması, bir web performans testini kaydettiğinizde dinamik parametreleri algılamadır. ancak, Visual Studio seçenekleriniz dinamik parametrelerin algılanmayacağı şekilde yapılandırıldıysa veya test edilen web uygulaması ek dinamik parametrelerle değiştirildiğinde; Web Performans Testi Düzenleyicisi dinamik parametre algılamayı çalıştırmaya devam edebilirsiniz.
