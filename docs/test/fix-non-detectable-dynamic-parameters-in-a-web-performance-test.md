---
title: Algılanabilir olmayan dinamik parametreleri çözme (Web performans testi)
ms.custom: SEO-VS-2020
ms.date: 10/19/2016
ms.topic: how-to
helpviewer_keywords:
- walkthroughs, load tests
- load tests, walkthroughs
- load tests, correlating dynamic parameters
ms.assetid: 92dff25c-36ee-4135-acdd-315c4962fa11
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: cad94040997d8cead6be799bee6b2bc17aab699c
ms.sourcegitcommit: 566144d59c376474c09bbb55164c01d70f4b621c
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/19/2020
ms.locfileid: "90810646"
---
# <a name="fix-non-detectable-dynamic-parameters-in-a-web-performance-test"></a>Web performans testindeki dinamik parametreleri algılayamama sorununu çözme

Bazı Web siteleri, bazı web isteklerinden bazılarını işlemek için dinamik parametreler kullanır. Dinamik parametre, Kullanıcı uygulamayı her çalıştırdığında değeri yeniden üretilen parametredir. Dinamik parametreye bir örnek, oturum KIMLIĞIDIR. Oturum KIMLIĞI genellikle her 5 ile 30 dakika arasında değişir. Web performans testi Kaydedicisi ve kayıttan yürütme altyapısı, en yaygın dinamik parametre türlerini otomatik olarak işler:

- Bir tanımlama bilgisi değerinde ayarlanan dinamik parametre değerleri. Web performans testi altyapısı, kayıttan yürütme sırasında bunları otomatik olarak işler.

- ASP.NET görünüm durumu gibi HTML sayfalarındaki gizli alanlarda ayarlanan dinamik parametre değerleri. Bunlar, teste gizli alan ayıklama kuralları ekleyen kaydedici tarafından otomatik olarak işlenir.

- Sorgu dizesi veya form gönderi parametreleri olarak ayarlanan dinamik parametre değerleri. Bunlar, bir Web performans testini kaydettikten sonra dinamik parametre algılama aracılığıyla işlenir.

Bazı dinamik parametre türleri algılanmaz. Saptanmamış dinamik bir parametre, test her çalıştığında dinamik değer farklı olacağı için, Web performans testinizin çalıştırıldığında başarısız olmasına neden olur. Bu parametreleri doğru bir şekilde işlemek için Web performans testlerinizde dinamik parametrelere el ile ayıklama kuralları ekleyebilirsiniz.

[!INCLUDE [web-load-test-deprecated](includes/web-load-test-deprecated.md)]

## <a name="create-and-run-a-web-app-with-dynamic-parameters"></a>Dinamik parametrelerle bir Web uygulaması oluşturma ve çalıştırma

Hem algılanabilir hem de algılanamaz dinamik bir parametreyi göstermek için, birkaç denetim ve bazı özel kod içeren üç Web formu bulunan basit bir ASP.NET Web uygulaması oluşturacağız. Daha sonra dinamik parametrelerin nasıl yalıtılacağı ve bunların nasıl işleneceği öğreneceğiz.

1. **DynamicParameterSample**adlı yeni bir ASP.NET projesi oluşturun.

     ![Boş bir ASP.NET Web uygulaması projesi oluşturma](../test/media/web_test_dynamicparameter_aspproject.png)

2. *QueryString. aspx*adlı bir Web formu ekleyin.

3. Tasarım görünümü ' nde, bir HiddenField alanını sayfaya sürükleyin ve içinde (ID) özelliğinin değerini HiddenFieldSessionID olarak değiştirin.

     ![Bir HiddenField ekleyin](../test/media/web_test_dynamicparameter_hiddenfield.png)

4. QueryString sayfası için kaynak görünümüne geçin ve sahte oturum KIMLIĞI dinamik parametrelerini oluşturmak için kullanılan aşağıdaki vurgulanmış ASP.NET ve JavaScript kodunu ekleyin:

    ```html
    <head runat="server">
    <title>JavaScript dynamic property correlation sample</title><script type="text/javascript" language="javascript">    <!--        function jScriptQueryString()         {            var Hidden = document.getElementById("HiddenFieldSessionID");            var sessionId = Hidden.value;            window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;         }    //--></script>
    </head>
    <body>
        <form id="form1" runat="server">
        <div>
             <a name="QuerystringHyperlink" href="ASPQuery.aspx?CustomQueryString=ASPQueryString___<%= Session.SessionID %>">Dynamic querystring generated by ASP.net</a>         <br/>         <br/>         <a href="javascript:jScriptQueryString()">Dynamic querystring generated by javascript </a>
        </div>
        <asp:HiddenField ID="HiddenFieldSessionID" runat="server" />
        </form>
    </body>
    </html>
    ```

5. *QueryString.aspx.cs* dosyasını açın ve Page_Load yöntemine aşağıdaki vurgulanmış kodu ekleyin:

    ```csharp
    public partial class Querystring : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            Session.Add("Key", "Value");HiddenFieldSessionID.Value = Session.SessionID;
        }
    }
    ```

6. *ASPQuery. aspx*adlı ikinci bir Web formu ekleyin.

7. Tasarım görünümü ' nde, sayfaya bir **etiket** sürükleyin ve **(ID)** özelliğinin değerini **IndexLabel**olarak değiştirin.

     ![Web formuna etiket ekleme](../test/media/web_test_dynamicparameter_label.png)

8. Sayfaya bir **köprü** sürükleyin ve **metin** özelliği için değerini öğesini **geri**olarak değiştirin.

     ![Web formuna köprü ekleme](../test/media/web_test_dynamicparameter_hyperlink.png)

9. **NavigationURL** özelliği için **(...)** seçeneğini belirleyin.

     ![NavigateURL özelliğini Düzenle](../test/media/web_test_dynamicparameter_hyperlink_navurl.png)

     *QueryString. aspx*öğesini seçin.

     ![QueryString. aspx olacak URL 'yi seçin](../test/media/web_test_dynamicparameter_hyperlink_navurl2.png)

10. *ASPQuery.aspx.cs* dosyasını açın ve Page_Load yöntemine aşağıdaki vurgulanmış kodu ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

11. *JScriptQuery. aspx*adlı üçüncü bir Web formu ekleyin.

     İkinci sayfada olduğu gibi, bir **etiketi** formun üzerine sürükleyin, **(ID)** özelliğini **IndexLabel** olarak ayarlayıp form üzerine bir **köprü** sürükleyin, **Text** özelliğini **Back**ve **NavigationURL** özelliği de **QueryString. aspx**olarak ayarlar.

     ![Üçüncü Web formunu ekleme ve yapılandırma](../test/media/web_test_dynamicparameter_addwebform3.png)

12. *JScriptQuery.aspx.cs* dosyasını açın ve Page_Load yöntemine aşağıdaki vurgulanmış kodu ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

13. Projeyi kaydedin.

14. **Çözüm Gezgini**' de, *QueryString. aspx* ' i başlangıç sayfası olarak ayarlayın.

     ![QueryString. aspx üzerinde başlangıç sayfasını ayarla](../test/media/web_test_dynamicparameter_setstartpage.png)

15. **Ctrl** + Tarayıcıda Web uygulamasını çalıştırmak için CTRL**F5** tuşuna basın. URL'yi kopyalayın. Testinizi kaydettiğinizde buna ihtiyaç duyarsınız.

16. Her iki bağlantıyı da deneyin. Her biri "başarılı" iletisini görüntülemelidir. Dinamik QueryString parametresi bulundu. "

     ![Web uygulamasını çalıştırma](../test/media/web_test_dynamicparameter_runapp.png)

     ![Başarı&#33;](../test/media/web_test_dynamicparameter_runapp2.png)

## <a name="create-a-web-performance-test"></a>Web performans testi oluşturma

1. Çözümünüze bir Web performansı ve yük testi projesi ekleyin.

     ![Web perflatin ve yük testi projesi ekleme](../test/media/web_test_dynamicparameter_addtestproject.png)

2. WebTest1. webtest öğesini DynamicParameterSampleApp. webtest olarak yeniden adlandırın.

     ![Web performans testini yeniden adlandırma](../test/media/web_test_dynamicparameter_renametest.png)

3. Testi kaydedin.

     ![Web performans testini kaydetme](../test/media/web_test_dynamicparameter_recordtest.png)

4. Test ettiğiniz web sitesinden URL 'YI kopyalayıp tarayıcıya yapıştırın.

     ![Sınanan Web sitesinden URL 'YI yapıştırın](../test/media/web_test_dynamicparameter_recordtest2.png)

5. Web uygulamasına göz atabilirsiniz. ASP.NET bağlantısını, geri bağlantısını ve sonra da JavaScript bağlantısını ve ardından geri bağlantısını seçin.

     Web Testi Kaydedicisi, Web uygulamasında gezindiğinizde HTTP isteği ve yanıt URL 'Lerini görüntüler.

6. Test kaydedicisinde **Durdur** düğmesini seçin.

     Dinamik parametreleri algılamada iletişim kutusu, alınan HTTP yanıtlarındaki parametre algılamanın durumunu gösteren bir ilerleme çubuğu görüntüler.

7. ASPQuery sayfasındaki CustomQueryString için dinamik parametre otomatik olarak algılanır. Ancak, JScriptQuery sayfasındaki CustomQueryString için dinamik parametre algılanmaz.

     *QueryString. aspx*öğesine bir ayıklama kuralı eklemek için **Tamam** ' ı seçerek ASPQuery sayfasına bağlama yapın.

     ![Algılanan dinamik parametreyi yükselt](../test/media/web_test_dynamicparameter_promotedialog.png)

     Ayıklama kuralı, ilk *QueryString. aspx*isteğine eklenir.

     ![Ayıklama kuralı isteğe eklendi](../test/media/web_test_dynamicparameter_autoextractionrule.png)

     *ASPQuery. aspx* için istek ağacındaki ikinci isteği genişletin ve CustomQueryString 'ın değeri ayıklama kuralına bağladığına dikkat edin.

     ![CustomQueryString, ayıklama kuralına bağladınız](../test/media/web_test_dynamicparameter_autoextractionrule2.png)

8. Testi kaydedin.

## <a name="run-the-test-to-isolate-the-non-detected-dynamic-parameter"></a>Algılanan dinamik parametreyi yalıtmak için testi çalıştırın

1. Testi çalıştırın.

     ![Web performans testini çalıştırma](../test/media/web_test_dynamicparameter_runtest.png)

2. *JScriptQuery. aspx* sayfasının dördüncü isteği başarısız olur. Web testine gidin.

     ![Test sonuçlarında dinamik parametre hatası](../test/media/web_test_dynamicparameter_runresults.png)

     *JScriptQuery. aspx* istek düğümü düzenleyicide vurgulanır. Düğümünü genişletin ve CustomQueryString 'in "1v0yıhyiyr0ka2w4j4pwf5zl" kısmının dinamik olduğunu fark ettiğini unutmayın.

     ![CustomQueryString içindeki dinamik parametre şüpheli](../test/media/web_test_dynamicparameter_runresults2.png)

3. Web performans Test Sonuçları görüntüleyicisine dönün ve başarısız olan *JScriptQuery. aspx* sayfasını seçin. Ardından, istek sekmesini seçin, ham verileri göster onay kutusunun işaretli olduğunu doğrulayın, aşağı kaydırın ve CustomQueryString üzerinde hızlı bul ' u seçin.

     ![Dinamik parametreyi yalıtmak için hızlı bul kullanın](../test/media/web_test_dynamicparameter_runresultsquckfind.png)

4. Test düzenleyicisine bakmadan, *JScriptQuery. aspx* Isteğinin CustomQueryString değerine bir değer atandığını `jScriptQueryString___1v0yhyiyr0raa2w4j4pwf5zl` ve şüphelenilen dinamik bölümün "1v0yhyiyr0ka2w4j4pwf5zl" olduğunu biliyoruz. Aranan açılan listesinde, arama dizesinin şüpheli kısmını kaldırın. Dize "CustomQueryString = jScriptQueryString___" olmalıdır.

     Dinamik parametrelere, hataya sahip istekten önce gelen isteklerden birindeki değerler atanır. Bu nedenle, ara onay kutusunu seçin ve istek panelinde *QueryString. aspx* için önceki isteği görene kadar Sonrakini Bul ' u seçin. Sonraki üç kez bul seçeneğini belirledikten sonra bu durum gerçekleşmelidir.

     ![Dinamik parametreyi yalıtmak için hızlı bul kullanın](../test/media/web_test_dynamicparameter_runresultsquckfind4.png)

     Yanıt sekmesinde ve aşağıda gösterildiği gibi daha önce uygulanan JavaScript 'de gösterildiği gibi, CustomQueryString sorgu dizesi parametresi bir "jScriptQueryString___" değeri atanır ve aynı zamanda var SessionID 'den döndürülen değerle birleştirilir.

    ```javascript
    function jScriptQueryString()          {             var Hidden = document.getElementById("HiddenFieldSessionID");             var sessionId = Hidden.value;             window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;          }

    ```

     Artık hatanın nerede oluştuğunu öğrendiğimiz ve SessionID için değeri ayıklamız gerektiğini biliyoruz. Ancak, ayıklama değeri yalnızca metindir, bu nedenle SessionID 'nin gerçek değerinin görüntülendiği bir dizeyi bulmaya çalışırken hatayı daha da yalıtmanız gerekir. Koda bakarak, var SessionID 'nin HiddenFieldSessionID tarafından döndürülen değere eşit olduğunu görebilirsiniz.

5. HiddenFieldSessionID üzerinde hızlı bul ' u kullanarak arama onay kutusunu temizleyip geçerli istek ' ı seçin.

     ![HiddenFieldSession üzerinde hızlı bul kullan](../test/media/web_test_dynamicparameter_runresultsquckfindhiddensession.png)

     Döndürülen değerin özgün Web performans testi kaydındaki dize olmadığından emin olun. Bu test çalıştırması için döndürülen değer "5w4v3yrse4wa4axrafykqksq" ve özgün kayıtta, değer "1v0yıhyiyr0ka2w4j4pwf5zl" olur. Değer, özgün kayıt ile eşleşmediğinden, hata oluşturulur.

6. Özgün kayıtta dinamik parametreyi düzeltireceğiz, araç çubuğunda Kaydedilen Sonuç ' i seçin.

     ![Kaydedilen sonucu seçin](../test/media/web_test_dynamicparameter_recordedresult.png)

7. Kayıtlı sonuçlarda, test çalıştırması sonuçlarında izole ettiğiniz *Querystringrequest. aspx* isteği olan üçüncü isteği seçin.

     ![Kayıtlı sonuçlarda aynı isteği seçin](../test/media/web_test_dynamicparameter_recordedresultsselectnode.png)

     Yanıt sekmesini seçin, aşağı kaydırın ve daha önce yalıtıldığınız ve bir ayıklama kuralı eklediğiniz "1v0onhyiyr0ka2w4j4pwf5zl" orijinal dinamik parametre değerini seçin.

     ![Dinamik parametre için bir ayıklama kuralı ekleyin](../test/media/web_test_dynamicparameter_recordedresultaddextractionrule.png)

     Yeni ayıklama kuralı *QueryString. aspx* isteğine eklenir ve ' Param0 ' değeri atanır.

     İletişim kutusu, parametreyi bağlamak için ayıklanan metin için eşleşme bulunduğunu bize bildirse, **Evet**' i seçin.

     ![Ayıklama kuralı oluşturuldu](../test/media/web_test_dynamicparameter_addextractiondialog.png)

8. **Sonrakini Bul**' ı seçin. İlk eşleşme, JScriptQuery sayfasında CustomQueryString parametresi olan, değiştirilmesi gereken bir parametredir.

     ![Parametrenin metnini bul ve Değiştir](../test/media/web_test_dynamicparameter_addextractionfindreplace.png)

9. **Değiştir**'i seçin.

     ![Metni parametresiyle değiştirin](../test/media/web_test_dynamicparameter_addextractionfindreplace2.png)

     *JScriptQuery. aspx* Isteği altındaki QueryString parametresi, yeni bağlam parametresi kullanılarak güncelleştirilir: CustomQueryString = jScriptQueryString___ {{Param0}}.

     ![QueryString öğesine uygulanan parametre](../test/media/web_test_dynamicparameter_addextractionfindreplace3.png)

10. **Bul ve Değiştir** iletişim kutusunu kapatın. Algılanan dinamik parametre ve bağıntılı tespit edilmeyen dinamik parametre arasındaki istek ağacındaki benzer yapıya dikkat edin.

     ![Algılanan ve bağıntılı dinamik parametreler](../test/media/web_test_dynamicparameter_conclusion.png)

11. Testi çalıştırın. Artık hata olmadan çalışır.

## <a name="qa"></a>Soru-Cevap

### <a name="q-can-i-re-run-dynamic-parameter-detection-if-my-web-app-gets-modified"></a>S: Web Uygulamam değiştirilirse dinamik parametre algılamayı yeniden çalıştırabilir miyim?

Y **:** Evet, aşağıdaki yordamı kullanın:

1. Araç çubuğunda, **dinamik parametreleri Web Test Parametrelerine Yükselt** düğmesini seçin.

     Algılama işlemi tamamlandıktan sonra, herhangi bir dinamik parametre algılanırsa, **dinamik parametreleri Web Test Parametrelerine Yükselt** iletişim kutusu görüntülenir.

     Dinamik parametreler, dinamik parametreler sütununun altında listelenir. Dinamik parametrenin ayıklanabileceği ve bağlı olduğu istekler, yanıttan Ayıkla parametresi altında listelenir ve Istek sütunlarına bağlayın.

     **Dinamik parametreleri Web Test Parametrelerine Yükselt** iletişim kutusunda dinamik bir parametre seçerseniz, Web Performans Testi Düzenleyicisi istek ağacında iki istek vurgulanacaktır. İlk istek, ayıklama kuralının ekleneceği istek olacaktır. İkinci istek, Ayıklanan değerin bağlanacağı yerdir.

2. Otomatik olarak ilişkilendirmek istediğiniz dinamik parametrelerin yanındaki onay kutusunu işaretleyin veya temizleyin. Varsayılan olarak, tüm dinamik parametreler denetlenir.

### <a name="q-do-i-need-to-configure-visual-studio-to-detect-dynamic-parameters"></a>S: Visual Studio 'Yu dinamik parametreleri algılamak için yapılandırmam gerekir mi?

Y **:** Varsayılan Visual Studio yapılandırması, bir Web performans testini kaydettiğinizde dinamik parametreleri algılamadır. Ancak, Visual Studio seçenekleriniz dinamik parametrelerin algılanmayacağı şekilde yapılandırıldıysa veya test edilen Web uygulaması ek dinamik parametrelerle değiştirildiğinde; Web Performans Testi Düzenleyicisi dinamik parametre algılamayı çalıştırmaya devam edebilirsiniz.
